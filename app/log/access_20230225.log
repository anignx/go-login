2023/02/25 18:45:48 Start...
2023/02/25 18:52:01 Start...
2023-02-25T18:52:13.765+0800	info	service/login_service.go:14	get user by id: 1
2023-02-25T18:52:13.771+0800	error	proxy/sql.go:32	namespace  mysql client for go-login not exist
2023-02-25T18:52:13.778+0800	error	runtime/panic.go:838	[Recovery from panic]	{"error": "runtime error: invalid memory address or nil pointer dereference", "request": "GET /login HTTP/1.1\r\nHost: localhost:10006\r\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9\r\nAccept-Encoding: gzip, deflate, br\r\nAccept-Language: zh-CN,zh;q=0.9\r\nCache-Control: max-age=0\r\nConnection: keep-alive\r\nSec-Ch-Ua: \"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"108\", \"Google Chrome\";v=\"108\"\r\nSec-Ch-Ua-Mobile: ?0\r\nSec-Ch-Ua-Platform: \"macOS\"\r\nSec-Fetch-Dest: document\r\nSec-Fetch-Mode: navigate\r\nSec-Fetch-Site: none\r\nSec-Fetch-User: ?1\r\nUpgrade-Insecure-Requests: 1\r\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36\r\n\r\n", "stack": "goroutine 37 [running]:\nruntime/debug.Stack()\n\t/opt/homebrew/Cellar/go@1.18/1.18.8/libexec/src/runtime/debug/stack.go:24 +0x68\nmy.service/go-login/package/BackendPlatform/ginhandle.GinRecovery.func1.1()\n\t/Users/leiming/code/gopath/src/my.service/go-login/package/BackendPlatform/ginhandle/recovery.go:45 +0x23c\npanic({0x102bd4e00, 0x102ff2e40})\n\t/opt/homebrew/Cellar/go@1.18/1.18.8/libexec/src/runtime/panic.go:838 +0x204\ngorm.io/gorm.(*DB).getInstance(0x14000600000?)\n\t/Users/leiming/code/gopath/pkg/mod/src/gorm.io/gorm@v1.24.5/gorm.go:374 +0x1c\ngorm.io/gorm.(*DB).Where(0x14000010010?, {0x102ba84a0, 0x102c6c620}, {0x1400068e220, 0x1, 0x1})\n\t/Users/leiming/code/gopath/pkg/mod/src/gorm.io/gorm@v1.24.5/chainable_api.go:201 +0x34\nmy.service/go-login/dao.(*Dao).GetUserByID(0x140000200d0, 0x0?)\n\t/Users/leiming/code/gopath/src/my.service/go-login/dao/user.go:18 +0x124\nmy.service/go-login/service.(*Service).UserLogin(0x0?, 0x0?)\n\t/Users/leiming/code/gopath/src/my.service/go-login/service/login_service.go:14 +0x28\nmy.service/go-login/server/http.login(0x140000a13b8?)\n\t/Users/leiming/code/gopath/src/my.service/go-login/server/http/handler.go:10 +0x38\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/leiming/code/gopath/pkg/mod/src/github.com/gin-gonic/gin@v1.9.0/context.go:174\nmy.service/go-login/package/BackendPlatform/ginhandle.GinRecovery.func1(0x14000098300)\n\t/Users/leiming/code/gopath/src/my.service/go-login/package/BackendPlatform/ginhandle/recovery.go:56 +0x78\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/leiming/code/gopath/pkg/mod/src/github.com/gin-gonic/gin@v1.9.0/context.go:174\nmy.service/go-login/package/BackendPlatform/ginhandle.GinLogger.func1(0x14000098300)\n\t/Users/leiming/code/gopath/src/my.service/go-login/package/BackendPlatform/ginhandle/logger.go:16 +0x88\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/leiming/code/gopath/pkg/mod/src/github.com/gin-gonic/gin@v1.9.0/context.go:174\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1(0x14000098300)\n\t/Users/leiming/code/gopath/pkg/mod/src/github.com/gin-gonic/gin@v1.9.0/recovery.go:102 +0x80\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/leiming/code/gopath/pkg/mod/src/github.com/gin-gonic/gin@v1.9.0/context.go:174\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0x14000098300)\n\t/Users/leiming/code/gopath/pkg/mod/src/github.com/gin-gonic/gin@v1.9.0/logger.go:240 +0xb0\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/leiming/code/gopath/pkg/mod/src/github.com/gin-gonic/gin@v1.9.0/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0x1400008a680, 0x14000098300)\n\t/Users/leiming/code/gopath/pkg/mod/src/github.com/gin-gonic/gin@v1.9.0/gin.go:620 +0x568\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0x1400008a680, {0x102c71708?, 0x140000aa000}, 0x14000098100)\n\t/Users/leiming/code/gopath/pkg/mod/src/github.com/gin-gonic/gin@v1.9.0/gin.go:576 +0x1d8\nnet/http.serverHandler.ServeHTTP({0x14000690780?}, {0x102c71708, 0x140000aa000}, 0x14000098100)\n\t/opt/homebrew/Cellar/go@1.18/1.18.8/libexec/src/net/http/server.go:2916 +0x3fc\nnet/http.(*conn).serve(0x14000698460, {0x102c720e0, 0x1400007e480})\n\t/opt/homebrew/Cellar/go@1.18/1.18.8/libexec/src/net/http/server.go:1966 +0x56c\ncreated by net/http.(*Server).Serve\n\t/opt/homebrew/Cellar/go@1.18/1.18.8/libexec/src/net/http/server.go:3071 +0x450\n"}
2023-02-25T18:52:13.778+0800	info	gin@v1.9.0/context.go:174	/login	{"status": 500, "method": "GET", "path": "/login", "query": "", "ip": "::1", "user-agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36", "errors": "", "cost": 0.014817917}
2023/02/25 18:58:05 Start...
2023/02/25 18:59:13 Start...
2023/02/25 19:01:23 Start...
2023/02/25 19:01:34 Start...
2023/02/25 19:02:41 Start...
2023/02/25 19:03:55 Start...
2023/02/25 19:09:59 Start...
2023/02/25 19:10:47 Start...
2023/02/25 19:11:30 Start...
2023/02/25 19:11:37 Start...
2023/02/25 19:11:58 Start...
2023/02/25 19:12:30 Start...
2023/02/25 19:12:50 Start...
2023/02/25 19:13:08 Start...
2023-02-25T19:13:38.482+0800	info	service/login_service.go:14	get user by id: 1
2023-02-25T19:13:38.486+0800	error	proxy/sql.go:32	namespace  mysql client for go-login not exist
2023-02-25T19:13:38.490+0800	error	runtime/panic.go:838	[Recovery from panic]	{"error": "runtime error: invalid memory address or nil pointer dereference", "request": "GET /login HTTP/1.1\r\nHost: localhost:10006\r\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9\r\nAccept-Encoding: gzip, deflate, br\r\nAccept-Language: zh-CN,zh;q=0.9\r\nCache-Control: max-age=0\r\nConnection: keep-alive\r\nSec-Ch-Ua: \"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"108\", \"Google Chrome\";v=\"108\"\r\nSec-Ch-Ua-Mobile: ?0\r\nSec-Ch-Ua-Platform: \"macOS\"\r\nSec-Fetch-Dest: document\r\nSec-Fetch-Mode: navigate\r\nSec-Fetch-Site: none\r\nSec-Fetch-User: ?1\r\nUpgrade-Insecure-Requests: 1\r\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36\r\n\r\n", "stack": "goroutine 35 [running]:\nruntime/debug.Stack()\n\t/opt/homebrew/Cellar/go@1.18/1.18.8/libexec/src/runtime/debug/stack.go:24 +0x68\nmy.service/go-login/package/BackendPlatform/ginhandle.GinRecovery.func1.1()\n\t/Users/leiming/code/gopath/src/my.service/go-login/package/BackendPlatform/ginhandle/recovery.go:45 +0x23c\npanic({0x105530e00, 0x10594ee40})\n\t/opt/homebrew/Cellar/go@1.18/1.18.8/libexec/src/runtime/panic.go:838 +0x204\ngorm.io/gorm.(*DB).getInstance(0x105966b80?)\n\t/Users/leiming/code/gopath/pkg/mod/src/gorm.io/gorm@v1.24.5/gorm.go:374 +0x1c\ngorm.io/gorm.(*DB).Where(0x1400012e008?, {0x1055044a0, 0x1055c8620}, {0x14000020190, 0x1, 0x1})\n\t/Users/leiming/code/gopath/pkg/mod/src/gorm.io/gorm@v1.24.5/chainable_api.go:201 +0x34\nmy.service/go-login/dao.(*Dao).GetUserByID(0x1400012c070, 0x0?)\n\t/Users/leiming/code/gopath/src/my.service/go-login/dao/user.go:18 +0x124\nmy.service/go-login/service.(*Service).UserLogin(0x0?, 0x0?)\n\t/Users/leiming/code/gopath/src/my.service/go-login/service/login_service.go:14 +0x28\nmy.service/go-login/server/http.login(0x140004f93b8?)\n\t/Users/leiming/code/gopath/src/my.service/go-login/server/http/handler.go:10 +0x38\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/leiming/code/gopath/pkg/mod/src/github.com/gin-gonic/gin@v1.9.0/context.go:174\nmy.service/go-login/package/BackendPlatform/ginhandle.GinRecovery.func1(0x140004fc200)\n\t/Users/leiming/code/gopath/src/my.service/go-login/package/BackendPlatform/ginhandle/recovery.go:56 +0x78\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/leiming/code/gopath/pkg/mod/src/github.com/gin-gonic/gin@v1.9.0/context.go:174\nmy.service/go-login/package/BackendPlatform/ginhandle.GinLogger.func1(0x140004fc200)\n\t/Users/leiming/code/gopath/src/my.service/go-login/package/BackendPlatform/ginhandle/logger.go:16 +0x88\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/leiming/code/gopath/pkg/mod/src/github.com/gin-gonic/gin@v1.9.0/context.go:174\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1(0x140004fc200)\n\t/Users/leiming/code/gopath/pkg/mod/src/github.com/gin-gonic/gin@v1.9.0/recovery.go:102 +0x80\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/leiming/code/gopath/pkg/mod/src/github.com/gin-gonic/gin@v1.9.0/context.go:174\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0x140004fc200)\n\t/Users/leiming/code/gopath/pkg/mod/src/github.com/gin-gonic/gin@v1.9.0/logger.go:240 +0xb0\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/leiming/code/gopath/pkg/mod/src/github.com/gin-gonic/gin@v1.9.0/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0x1400050a680, 0x140004fc200)\n\t/Users/leiming/code/gopath/pkg/mod/src/github.com/gin-gonic/gin@v1.9.0/gin.go:620 +0x568\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0x1400050a680, {0x1055cd708?, 0x140000e0000}, 0x140004fc000)\n\t/Users/leiming/code/gopath/pkg/mod/src/github.com/gin-gonic/gin@v1.9.0/gin.go:576 +0x1d8\nnet/http.serverHandler.ServeHTTP({0x1400012a150?}, {0x1055cd708, 0x140000e0000}, 0x140004fc000)\n\t/opt/homebrew/Cellar/go@1.18/1.18.8/libexec/src/net/http/server.go:2916 +0x3fc\nnet/http.(*conn).serve(0x140000d8460, {0x1055ce0e0, 0x140006103c0})\n\t/opt/homebrew/Cellar/go@1.18/1.18.8/libexec/src/net/http/server.go:1966 +0x56c\ncreated by net/http.(*Server).Serve\n\t/opt/homebrew/Cellar/go@1.18/1.18.8/libexec/src/net/http/server.go:3071 +0x450\n"}
2023-02-25T19:13:38.490+0800	info	gin@v1.9.0/context.go:174	/login	{"status": 500, "method": "GET", "path": "/login", "query": "", "ip": "::1", "user-agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36", "errors": "", "cost": 0.008821416}
2023/02/25 19:14:12 Start...
2023/02/25 19:22:17 Start...
2023-02-25T19:22:22.744+0800	info	service/login_service.go:14	get user by id: 1
2023-02-25T19:22:22.914+0800	info	http/handler.go:10	user: &{0   0 0}
2023-02-25T19:22:22.915+0800	info	gin@v1.9.0/context.go:174	/login	{"status": 200, "method": "GET", "path": "/login", "query": "", "ip": "::1", "user-agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36", "errors": "", "cost": 0.1705325}
2023-02-25T19:23:04.355+0800	info	service/login_service.go:14	get user by id: 1
2023-02-25T19:23:04.420+0800	info	http/handler.go:10	user: &{0   0 0}
2023-02-25T19:23:04.423+0800	info	gin@v1.9.0/context.go:174	/login	{"status": 200, "method": "GET", "path": "/login", "query": "", "ip": "::1", "user-agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36", "errors": "", "cost": 0.068930583}
2023/02/25 19:26:11 Start...
2023-02-25T19:26:21.534+0800	info	service/login_service.go:14	get user by id: 1
2023-02-25T19:26:21.582+0800	info	http/handler.go:10	user: &{1 张三 头像 0 0}
2023-02-25T19:26:21.583+0800	info	gin@v1.9.0/context.go:174	/login	{"status": 200, "method": "GET", "path": "/login", "query": "", "ip": "::1", "user-agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36", "errors": "", "cost": 0.048439166}
2023/02/25 19:57:02 Start...
2023-02-25T19:57:23.469+0800	info	sms/iphone_sms.go:61	sendSmsRequest: {
   "headers": {
      "access-control-allow-origin": "*",
      "connection": "keep-alive",
      "content-length": "110",
      "content-type": "application/json;charset=utf-8",
      "date": "Sat, 25 Feb 2023 11:57:23 GMT",
      "x-acs-request-id": "0C625E2D-B8B5-5D8D-8914-66B5AC31F53F",
      "x-acs-trace-id": "a622025e83bf7060d33d5ae0b3999596"
   },
   "statusCode": 200,
   "body": {
      "BizId": "367815577326243224^0",
      "Code": "OK",
      "Message": "OK",
      "RequestId": "0C625E2D-B8B5-5D8D-8914-66B5AC31F53F"
   }
}
2023-02-25T19:57:23.472+0800	info	gin@v1.9.0/context.go:174	/register	{"status": 200, "method": "GET", "path": "/register", "query": "", "ip": "::1", "user-agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36", "errors": "", "cost": 0.729768708}
